#ifndef __GAME_H__
#define __GAME_H__

#include <SDL.h>
#include "Celda.h"
#include "Terreno.h"
#include "Lista.h"
#include "Comanda.h"
#include "Parametros.h"
#include "Estacion.h"
/*----------------------------------------------------------------------------*/
//                                ESTRUCTURAS
/*----------------------------------------------------------------------------*/

typedef struct{
    bool gameover;
    int intervalo;

    int anchoCelda;
    int altoCelda;
    int altoSprite;

    int fila;
    int columna;

    Terreno** terreno;

    char direccion[4];

    Lista minas;

    Lista comanda;

    Parametros parametros;
}Game;

/*----------------------------------------------------------------------------*/
//                                PRIMITIVAS
/*----------------------------------------------------------------------------*/
void crearGame(Game &game,int fila,int columna,int anchoCelda,int altoCelda, int altoSprite);
/*----------------------------------------------------------------------------*/
int getAnchoCelda(Game &game);
/*----------------------------------------------------------------------------*/
int getAltoCelda(Game &game);
/*----------------------------------------------------------------------------*/
int getIntervalo(Game &game);
/*----------------------------------------------------------------------------*/
void setIntervalo(Game &game, int intervalo);
/*----------------------------------------------------------------------------*/
void setTerreno(Game &game, SDL_Renderer * renderer);
/*----------------------------------------------------------------------------*/
Terreno** getTerreno(Game &game);
/*----------------------------------------------------------------------------*/
void leerMinas(Game &game, SDL_Renderer * renderer);
/*----------------------------------------------------------------------------*/
Lista getMinas(Game &game);

/*----------------------------------------------------------------------------*/
Lista getComanda(Game &game);
/*----------------------------------------------------------------------------*/
void leerComanda(Game &game);
/*----------------------------------------------------------------------------*/

Parametros getParametros(Game &game);
/*----------------------------------------------------------------------------*/
void setParametros(Game &game, string clave, string valor);
/*----------------------------------------------------------------------------*/
void leerParametros(Game &game);
/*----------------------------------------------------------------------------*/
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
void dibujarTerreno(Game game,SDL_Renderer *renderer);
/*----------------------------------------------------------------------------*/
void dibujarEntidades(Game game,SDL_Renderer *renderer);
/*----------------------------------------------------------------------------*/
bool getGameOver(Game &game);
/*----------------------------------------------------------------------------*/
void setGameOver(Game &game, bool flag);
/*----------------------------------------------------------------------------*/
void destruirGame(Game &game);
/*----------------------------------------------------------------------------*/
void ubicarVagon(Game &game,PtrNodoLista ptrNodo);
/*----------------------------------------------------------------------------*/
void ubicarBandido(Game &game,Bandido *bandido);
/*----------------------------------------------------------------------------*/
void ubicarMina(Game &game,Mina *mina);
/*----------------------------------------------------------------------------*/
void ubicarMoneda(Game &game,Moneda *moneda);
/*----------------------------------------------------------------------------*/
void ubicarEstacion(Game &game,Estacion *estacion);
/*----------------------------------------------------------------------------*/
void setDireccion(Game &game,char direccion[]);
/*----------------------------------------------------------------------------*/
char* getDireccion(Game &game);
/*----------------------------------------------------------------------------*/
int getColumnaLimite(Game &game);
/*----------------------------------------------------------------------------*/
int getFilaLimite(Game &game);
/*----------------------------------------------------------------------------*/
void evaluarColisionConMina(Game &game,Lista &locomotora);
/*----------------------------------------------------------------------------*/
#endif
